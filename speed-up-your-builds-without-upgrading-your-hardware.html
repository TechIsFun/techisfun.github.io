<!doctype html>
<html>

<head>

  <title>
    
      Speed up your builds… without upgrading your hardware | ing. Andrea Maglie
    
  </title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  
  

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <!-- Use Atom -->
  <link type="application/atom+xml" rel="alternate" href="andreamaglie.com/feed.xml" title="ing. Andrea Maglie" />
  <!-- Use RSS-2.0 -->
  <!--<link href="/rss-feed.xml" type="application/rss+xml" rel="alternate" title="ing. Andrea Maglie | "/>
  //-->

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48681711-2', 'auto');
  ga('send', 'pageview');
</script>


  <!-- Use Jekyll SEO plugin -->
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Speed up your builds… without upgrading your hardware | ing. Andrea Maglie</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Speed up your builds… without upgrading your hardware" />
<meta name="author" content="Andrea Maglie" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I wish every build could look like this :)" />
<meta property="og:description" content="I wish every build could look like this :)" />
<link rel="canonical" href="andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html" />
<meta property="og:url" content="andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html" />
<meta property="og:site_name" content="ing. Andrea Maglie" />
<meta property="og:image" content="andreamaglie.com/hero-speed-up-builds.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-27T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="andreamaglie.com/hero-speed-up-builds.png" />
<meta property="twitter:title" content="Speed up your builds… without upgrading your hardware" />
<meta name="twitter:site" content="@techisfun" />
<meta name="twitter:creator" content="@Andrea Maglie" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Andrea Maglie"},"mainEntityOfPage":{"@type":"WebPage","@id":"andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html"},"url":"andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html","image":"andreamaglie.com/hero-speed-up-builds.png","headline":"Speed up your builds… without upgrading your hardware","dateModified":"2018-04-27T00:00:00+02:00","datePublished":"2018-04-27T00:00:00+02:00","description":"I wish every build could look like this :)","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


</head>


<body>

  <div class="container">
    <header class="masthead">
  <h3 class="masthead-title">
    <a href="/">ing. Andrea Maglie</a>
    <small class="masthead-subtitle"></small>
    <div class="menu">
  <nav class="menu-content">
    
      <a href="/menu/about.html">Informazioni</a>
    
      <a href="/menu/writing.html">Post</a>
    
      <a href="/menu/contact.html">Contatti</a>
    
  </nav>
  <nav class="social-icons">
    
  
  
    <a href="https://www.github.com/techisfun" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
  

  
  
    <a href="https://twitter.com/techisfun" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  

  
  
    <a href="http://www.linkedin.com/in/andreamaglie/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
  

  
  
    <a href="mailto:l.andrea.maglie@gmail.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  

  
  
    <a href="/feed.xml"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
  

  </nav>
</div>

  </h3>
</header>


    <div class="post-container">
      <h1>
  Speed up your builds… without upgrading your hardware
</h1>


  <img src="/assets/img/hero-speed-up-builds.png">


<p><em>I wish every build could look like this :)</em></p>

<p>Often the only way to (really) speed up slow builds is to add more RAM, replace the old HDD with an SSD or buy a complete new PC (or Laptop). All those solutions requires investing (a lot of) money. What if we can just keep current hardware and delegate the build to another, more powerful, machine?</p>

<p>I usually develop for Android, and everyone knows that Android builds are slow. Waiting for a build to complete is one of the things that make me feel like I’m wasting my day. Edit, launch the build, wait 4 to 5 minutes to have the app compiled and installed, run the app, test, edit, launch another build, wait again… no, I really hate it! So what can I do?</p>

<p><em>(I won’t write here about all the fine tunings that can be done inside your gradle configurations files, they’re not in the scope of this article)</em></p>

<h2 id="test-driven-development">Test Driven Development</h2>

<p>I’m a fan of <em>TDD</em>, so I try to skip many of those cycle of builds + manual testing by writing unit tests. The cycle becomes: write test, implement your code, build and run tests. You’ll skip the time-consuming manual testing (and you’ll gain all the well-known benefits of TDD).</p>

<p>But sometimes it’s not enough, for example when you’re fine-tuning the layout of the app, or when you need to debug a specific use-case. If the project is quite big, also running unit tests can become time consuming.</p>

<h2 id="hardware-upgrade-or">Hardware upgrade or…?</h2>

<p>So, should I upgrade my hardware? But my hardware is quite enough for everything that I do every day, except for code compiling! I’d like to have a machine just for compiling. Maybe a <em>Virtual Machine</em>, that can be launched only when I need it, and than I’ll pay just for the time I use it…</p>

<h2 id="welcome-to-mainframer">…welcome to Mainframer</h2>

<p>Then I’ve discovered a great tool: <a href="https://github.com/gojuno/mainframer">Mainframer</a>. It’s a command line tool that lets you easily launch your build on a remote machine! No need to buy a new laptop anymore!(*)</p>

<p>When you launch a build through Mainframer, it will:</p>

<ol>
  <li>
    <p>Establish a <em>ssh</em> connection with the remote machine.</p>
  </li>
  <li>
    <p>Use <em>rsync</em> to sync current directory with the remote machine.</p>
  </li>
  <li>
    <p>Lunch the build command on the remote machine.</p>
  </li>
  <li>
    <p>Sync back the directory when build finishes.</p>
  </li>
</ol>

<p>Here are the steps I’ve taken for my configuration:</p>

<ul>
  <li>
    <p>Create a Linux Virtual Machine on AWS</p>
  </li>
  <li>
    <p>Launch the Virtual Machine, ssh into it and install all the build tools that you need. For Android I’ve installed just the JDK and Android SDK (more details on configurations of the remote machine <a href="https://github.com/gojuno/mainframer/blob/development/docs/SETUP_REMOTE.md">here</a>). Configure the Virtual Machine with the hardware features that fits your needs.</p>
  </li>
  <li>
    <p>Configure ssh on your local machine (more info <a href="https://github.com/gojuno/mainframer/blob/development/docs/SETUP_LOCAL.md">here</a>).</p>
  </li>
  <li>
    <p>Download a copy of mainframer.sh in the root of your project.</p>
  </li>
  <li>
    <p>Test that everything is configured correctly with the following command:</p>

    <p>./mainframer echo “It works!” &gt; success.txt</p>
  </li>
</ul>

<p>Yeah, just this simple one-time setup! Now you can launch your build like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./mainframer ./gradle assembleDebug
</code></pre></div></div>

<p>end enjoy a faster compilation!</p>

<p>Another great advantage of this approach is that, if the build still requires “long time”, your local machine won’t be overloaded by the build process and you can use it for other stuff.</p>

<p>Mainframer supports the following build systems:</p>

<ul>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/gradle">Gradle</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/gradle-android">Gradle Android</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/rust">Rust</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/clang">Clang</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/gcc">GCC</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/mvn">Maven</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/buck">Buck</a></p>
  </li>
  <li>
    <p><a href="https://github.com/gojuno/mainframer/blob/development/samples/go">Go</a></p>
  </li>
</ul>

<p>And there’s also an <a href="https://github.com/elpassion/mainframer-intellij-plugin">IntelliJ Plugin</a>!</p>

<h2 id="bonus">Bonus</h2>

<p>You can get the maximum boost to your development process by applying both TDD and Mainframer!</p>

<p>(*)Yes, I know, you don’t have to pay for a new laptop but you have to pay for VM usage. But it’s much cheaper, and you can upgrade or throw away the VM according to your budget and your needs.</p>


<span class="post-date">
  Pubblicato il
  
  April
  27th,
  2018
  by
  
    Andrea Maglie
  
</span>

<div class="post-date">Condividi!</div>
  <div class="sharing-icons">
    <a href="https://twitter.com/intent/tweet?text=Speed up your builds… without upgrading your hardware&amp;url=andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html&amp;title=Speed up your builds… without upgrading your hardware" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=andreamaglie.com/speed-up-your-builds-without-upgrading-your-hardware.html&amp;title=Speed up your builds… without upgrading your hardware" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
  </div>
</div>


<div class="related">
  <h1 >Potrebbero interessarti:</h1>
  
  <ul class="related-posts">
    
      
        
          <li>
            <h3>
              <a href="/clean-architecture-introduction.html">
                Clean Architecture: una introduzione
                <!--<img src="andreamaglie.com/images/">-->
                <!--<small>October 28, 2020</small>-->
              </a>
            </h3>
          </li>
          
        
      
        
        
      
        
          <li>
            <h3>
              <a href="/android-studio-2.3-migration.html">
                Migrate to Android Studio 2.3
                <!--<img src="andreamaglie.com/images/">-->
                <!--<small>March 8, 2017</small>-->
              </a>
            </h3>
          </li>
          
        
      
    
      
        
        
      
        
        
      
        
          <li>
            <h3>
              <a href="/android-enable-app-feature-compile-time.html">
                Android - Enable app features at compile time
                <!--<img src="andreamaglie.com/images/">-->
                <!--<small>January 28, 2016</small>-->
              </a>
            </h3>
          </li>
          
        
      
    
  </ul>
</div>



  <section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = "techisfun";
    var disqus_identifier = "/speed-up-your-builds-without-upgrading-your-hardware.html";
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



    </div>

    <footer class="footer">
  
  
  
    <a href="https://www.github.com/techisfun" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
  

  
  
    <a href="https://twitter.com/techisfun" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  

  
  
    <a href="http://www.linkedin.com/in/andreamaglie/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
  

  
  
    <a href="mailto:l.andrea.maglie@gmail.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  

  
  
    <a href="/feed.xml"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
  

  <div class="post-date"><a href="/menu/about.html">ing. Andrea Maglie |  by Andrea Maglie</a></div>
</footer>

  </div>

</body>
</html>
