<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Andrea Maglie</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="android, programming, responsive, blog">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:4000/images/abstract-12.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="Describe this nonsense.">
<meta name="twitter:creator" content="@techisfun">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="http://localhost:4000/index.html">
<meta property="og:site_name" content="Andrea Maglie">





<link rel="canonical" href="http://localhost:4000/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Andrea Maglie Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- BOOTSTRAP Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">




</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.png" alt="Andrea Maglie photo" class="author-photo">
					<h4>Andrea Maglie</h4>
					<p>Java Developer - Android Developer & Designer - Tech Enthusiast - Guitar Player - Music Lover</p>
				</li>
				<li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				
				<li>
					<a href="http://twitter.com/techisfun"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+AndreaMaglie"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				
				<li>
					<a href="http://github.com/techisfun"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	        
	    
	    <li><a href="http://localhost:4000/portfolio/" >Portfolio</a></li>
	  
	    
	        
	    
	    <li><a href="http://localhost:4000/curriculum/" >Curriculum Vitae</a></li>
	  
	    
	        
	        
	    <li><a href="http://bit.ly/1bISG1K" target="_blank">Apps On Play Store</a></li>
	  
	    
	        
	    
	    <li><a href="http://localhost:4000/contact-me/" >Contact me</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/abstract-12.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Andrea Maglie</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/dont-waste-time-coding-2/" title="Don't waste your time coding - part 2"><img src="http://localhost:4000/images/sea.png" alt="Don't waste your time coding - part 2"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-01-30T00:00:00+01:00"><a href="http://localhost:4000/dont-waste-time-coding-2/">January 30, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Andrea Maglie">Andrea Maglie</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/dont-waste-time-coding-2/" rel="bookmark" title="Don't waste your time coding - part 2" itemprop="url">Don't waste your time coding - part 2</a></h1>
    
  </header>
  <div class="entry-content">
    <p>You can find the first part of this article <a href="//dont-waste-time-coding-1/">here</a></p>

<h2 id="automatic-code-formatting-and-import-organizing">Automatic code formatting and import organizing</h2>
<p><em>Code styling is important. A well formatted piece of code becomes more readable and more comprehensible.</em></p>

<p>But sometimes trying to keep the code formatted can be negative: you lose your time and your focus.
You will soon start to count the number of spaces at the beginning of the current line, or you will think about questions like “should I use 2 or 4 spaces for tabs?” or “should I put a space before this bracket?” or again “lets remove some unused imports because my IDE is saying that I’m not using them”, and you will lose your focus on that great algorithm that sits in your mind waiting to become the core of a great application. Then you have to spend some other time trying to get to the point, and restart writing code.</p>

<p>I think that it’s better to leave all the annoying stuff about code formatting to your IDE.
Every modern IDE has an automatic formatting function, that can be triggered automatically when the file is saved or when it’s committed. And the same functionality exists for automatic imports organizing.</p>

<p><strong>Eclipse</strong></p>

<ul>
  <li>Settings: Java -&gt; Code style -&gt; Formatter</li>
  <li>Auto format code: CTRL + SHIFT + F</li>
  <li>Auto organize imports: CTRL + SHIFT + O</li>
</ul>

<p><strong>Android Studio</strong></p>

<ul>
  <li>Settings: Code style -&gt; Formatter -&gt; Java</li>
  <li>Auto format code: CTRL + ALT + L</li>
  <li>Auto organize imports: CTRL + ALT + O</li>
</ul>

<p>With Android Studio I prefer to let the IDE reformat my code before committing, as you can see in the following screenshot:
<img src="/images/studio_commit_dialog.png" alt="Android Studio commit dialog" /></p>

<p><em>When you’re writing code, think about writing code</em>, no matter how beautiful it is. You can think about formatting later, or even don’t think about formatting at all because your IDE will do it for you.
But also don’t forget to produce well formatted code!</p>

<p>Bonus: don’t waste your time formatting JSON strings or long SQL queries! Ask Google for “json formatter” or “sql formatter”, and try some online time-saving tools.</p>

<h2 id="online-tools-for-code-generation">Online tools for code generation</h2>
<p>Talkin’ about boilerplate code, you can find many tools that will take care to generate code for you. This leads to time saving, less annoyances, and (most important) less bugs.</p>

<p>Here are some tools that I love to use in my activity as Android developer:</p>

<ul>
  <li><a href="http://andreamaglie.com/android-fragment-generator/">Android Fragment Code Generator</a> (self-promotion, sorry!)</li>
  <li><a href="http://www.parcelabler.com/">parcelabler</a></li>
  <li><a href="https://www.buzzingandroid.com/tools/android-layout-finder/">Android Layout Finder</a></li>
</ul>

<p>Do you know some other useful tool? Don’t forget to write a comment about it!</p>

<p>Again, <em>don’t waste your time coding!</em> Type just what you need to type, you’ll become more productive and less stressed.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/access-storage-framework-uri-permission/" title="Access Storage Framework and the URI permissions nightmare"><img src="http://localhost:4000/images/android1.png" alt="Access Storage Framework and the URI permissions nightmare"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-01-09T00:00:00+01:00"><a href="http://localhost:4000/access-storage-framework-uri-permission/">January 09, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Andrea Maglie">Andrea Maglie</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/access-storage-framework-uri-permission/" rel="bookmark" title="Access Storage Framework and the URI permissions nightmare" itemprop="url">Access Storage Framework and the URI permissions nightmare</a></h1>
    
  </header>
  <div class="entry-content">
    <p>I’ve been working with the <strong>Access Storage Framework</strong> introduced with Android KitKat, a feature that I’ve been waiting for a long time.</p>

<p>Everything seemed to be alright, quite easy to implement, until I faced a strange issue.</p>

<p>Once the file has been selected by the user, I wanted to store the file’s URI and re-open that URI the next time application is started. To do this, I’ve followed what the <a href="https://developer.android.com/guide/topics/providers/document-provider.html">official documentation</a> says:</p>

<blockquote>
  <p>When your app opens a file for reading or writing, the system gives your app a URI permission grant for that file. It lasts until the user’s device restarts. But suppose your app is an image-editing app, and you want users to be able to access the last 5 images they edited, directly from your app. If the user’s device has restarted, you’d have to send the user back to the system picker to find the files, which is obviously not ideal.</p>
</blockquote>

<blockquote>
  <p>To prevent this from happening, you can persist the permissions the system gives your app. Effectively, your app “takes” the persistable URI permission grant that the system is offering. This gives the user continued access to the files through your app, even if the device has been restarted:</p>
</blockquote>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">final</span> <span class="kt">int</span> <span class="n">takeFlags</span> <span class="o">=</span> <span class="n">intent</span><span class="o">.</span><span class="na">getFlags</span><span class="o">()</span>
            <span class="o">&amp;</span> <span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_READ_URI_PERMISSION</span>
            <span class="o">|</span> <span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_WRITE_URI_PERMISSION</span><span class="o">);</span>
<span class="c1">// Check for the freshest data.</span>
<span class="n">getContentResolver</span><span class="o">().</span><span class="na">takePersistableUriPermission</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span> <span class="n">takeFlags</span><span class="o">);</span></code></pre></div>

<p>It didn’t work. <em>Doh!</em></p>

<p>I was getting a <code>java.lang.SecurityException</code> while trying to open the URI using <code>getContentResolver().openInputStream(uri)</code> or <code>getContentResolver().openAssetFileDescriptor(uri, "r")</code>:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">SecurityException</span><span class="o">:</span> <span class="n">Permission</span> <span class="nl">Denial:</span> <span class="n">opening</span> <span class="n">provider</span> <span class="n">com</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">providers</span><span class="o">.</span><span class="na">media</span><span class="o">.</span><span class="na">MediaDocumentsProvider</span> <span class="n">from</span> <span class="n">ProcessRecord</span><span class="o">{</span><span class="mi">430</span><span class="n">b1748</span> <span class="mi">4572</span><span class="o">:</span><span class="n">com</span><span class="o">.</span><span class="na">x</span><span class="o">.</span><span class="na">x</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">u0a88</span><span class="o">}</span> <span class="o">(</span><span class="n">pid</span><span class="o">=</span><span class="mi">4572</span><span class="o">,</span> <span class="n">uid</span><span class="o">=</span><span class="mi">10078</span><span class="o">)</span> <span class="n">requires</span> <span class="n">android</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">MANAGE_DOCUMENTS</span> <span class="n">or</span> <span class="n">android</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">MANAGE_DOCUMENTS</span></code></pre></div>

<p>Adding <code>android.permission.MANAGE_DOCUMENTS</code> to AndroidManifest.xml didn’t helped, and the many solutions found on <em>stackoverflow.com</em> didn’t work.</p>

<p>After taking a deeper look at the APIs and the source code I’ve found a working way to grant URI permissions:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">activity</span><span class="o">.</span><span class="na">grantUriPermission</span><span class="o">(</span><span class="n">activity</span><span class="o">.</span><span class="na">getPackageName</span><span class="o">(),</span> <span class="n">uri</span><span class="o">,</span> <span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_READ_URI_PERMISSION</span><span class="o">);</span></code></pre></div>

<p>place this call before <code>getContentResolver().takePersistableUriPermission(uri, takeFlags)</code> and read permissions will be granted! Yeah!</p>

<p>The resulting code will be:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">MY_REQUEST_CODE</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">Activity</span><span class="o">.</span><span class="na">RESULT_OK</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>

      <span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>

      <span class="n">mActivity</span><span class="o">.</span><span class="na">grantUriPermission</span><span class="o">(</span><span class="n">mActivity</span><span class="o">.</span><span class="na">getPackageName</span><span class="o">(),</span> <span class="n">uri</span><span class="o">,</span> <span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_READ_URI_PERMISSION</span><span class="o">);</span>

      <span class="kd">final</span> <span class="kt">int</span> <span class="n">takeFlags</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getFlags</span><span class="o">()</span> <span class="o">&amp;</span> <span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_GRANT_READ_URI_PERMISSION</span><span class="o">);</span>
      <span class="n">mActivity</span><span class="o">.</span><span class="na">getContentResolver</span><span class="o">().</span><span class="na">takePersistableUriPermission</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span> <span class="n">takeFlags</span><span class="o">);</span>

      <span class="n">doSomethingWith</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-12-16T00:00:00+01:00"><a href="http://localhost:4000/dont-waste-time-coding-1/">December 16, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Andrea Maglie">Andrea Maglie</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/dont-waste-time-coding-1/" rel="bookmark" title="Don't waste your time coding - part 1" itemprop="url">Don't waste your time coding - part 1</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Life is too short: please, don’t waste your time writing code!
I’m not saying that you don’t have to code, but many people tend to waste too much time typing on the keyboard instead of producing code. Mee too.</p>

<p><em>Following examples relate to Android’s world, but that can be easily adapted to other languages and programming tasks.</em></p>

<h2 id="aliases">Aliases</h2>

<p>Android developers, how many times do you have to call the command <code>adb</code>? If your installation directory is something like</p>

<p><code>/opt/android/sdk</code></p>

<p>maybe you’re going to write <code>/opt/android/sdk/platform-tools/adb</code> many many times a day.</p>

<p><em>Don’t do it!</em> Instead add the android <code>/opt/android/sdk/platform-tools/</code> directory to your path or create an alias so you will only need to write <code>adb</code>!</p>

<p>I’ve also an alias for writing only <code>logcat</code> instead of <code>adb logcat</code>! ;-)</p>

<p>Some other alias examples:</p>

<ul>
  <li>[android] <code>alias amstart='adb shell am start -n'</code></li>
  <li>[android] <code>alias amkill='adb shell am kill'</code></li>
  <li>[android] <code>alias media_scan='adb shell am broadcast -a android.intent.action.MEDIA_MOUNTED -d file:///mnt/sdcard'</code></li>
  <li>[android] <code>alias packages='adb shell pm list packages'</code></li>
  <li>[android w/ant] <code>alias install='ant debug install'</code></li>
  <li>[android w/gradle] <code>alias install='./gradlew installDebug'</code></li>
  <li>[svn] <code>alias svnlog='svn log | less'</code></li>
  <li>[svn] <code>alias svn_ignore_edit='svn propedit svn:ignore . --editor-cmd nano'</code></li>
  <li>[git] <code>alias revert='git checkout --'</code></li>
</ul>

<h2 id="snippets-and-templates">Snippets and Templates</h2>
<p>Every modern IDE has the support for <em>snippets</em> and <em>templates</em>.</p>

<p>Explore the built-in snippets and templates included in your IDE and use them as an example to write your own. You can create small blocks like a <em>try/catch</em> implementation or generate an entire class.</p>

<p>I’ve changed the default <strong>Android Studio</strong> template for <em>try/catch</em> block including exception logging. Go to <em>File -&gt; Settings -&gt; File and Code Templates</em>, select <em>Catch Statement Body</em> and change the default implementation with:</p>

<p><code>Log.d(TAG, "got exception", ${EXCEPTION});</code></p>

<p>If you use <em>Robolectric</em> you can change the default <em>Junit4 Test Class implementation</em> with the following, so annotations and basic imports are added automatically:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.*;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">fest</span><span class="o">.</span><span class="na">assertions</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.*;</span>

<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.robolectric.RobolectricTestRunner</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.robolectric.annotation.Config</span><span class="o">;</span>

<span class="nd">@Config</span><span class="o">(</span><span class="n">emulateSdk</span> <span class="o">=</span> <span class="mi">18</span><span class="o">)</span>
<span class="nd">@RunWith</span><span class="o">(</span><span class="n">RobolectricTestRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">$</span><span class="o">{</span><span class="n">NAME</span><span class="o">}</span> <span class="o">{</span>
  <span class="n">$</span><span class="o">{</span><span class="n">BODY</span><span class="o">}</span>
<span class="o">}</span></code></pre></div>

<p>In <strong>Eclipse</strong> templates are under <em>Preferences -&gt; Java -&gt; Code Style -&gt; Code Templates</em> and <em>Preferences -&gt; Java -&gt; Editor -&gt; Templates</em>.</p>

<p>If you prefere <strong>Sublime Text</strong> you can find some useful Android Snippets in this repo: <a href="https://github.com/ribot/SublimeAndroidSnippets">http://github.com/ribot/SublimeAndroidSnippets</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-11-04T00:00:00+01:00"><a href="http://localhost:4000/autoincrement-versiocode/">November 04, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Andrea Maglie">Andrea Maglie</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/autoincrement-versiocode/" rel="bookmark" title="Auto-increment versionCode in build.gradle file" itemprop="url">Auto-increment versionCode in build.gradle file</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Starting from this <a href="http://bryankrosenbaum.com/2013/11/27/getting-to-know-gradle-auto-increment-version-and-signing-releases/">blog post by Bryan Rosenbaum</a>, here is a gradle task to auto increment <strong>versionCode</strong> inside your build.gradle file.</p>

<div class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kn">import</span> <span class="nn">java.util.regex.Pattern</span>

<span class="o">...</span>

<span class="n">task</span> <span class="n">incrementVersionCode</span> <span class="o">&lt;&lt;</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s2">&quot;:incrementVersionCode - Incrementing Version Code...&quot;</span><span class="o">)</span>
    <span class="kt">def</span> <span class="n">buildGradleFile</span> <span class="o">=</span> <span class="n">file</span><span class="o">(</span><span class="s2">&quot;build.gradle&quot;</span><span class="o">)</span>
    <span class="kt">def</span> <span class="n">patternVersionCode</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s2">&quot;versionCode (\\d+)&quot;</span><span class="o">)</span>
    <span class="kt">def</span> <span class="n">buildGradleFileText</span> <span class="o">=</span> <span class="n">buildGradleFile</span><span class="o">.</span><span class="na">getText</span><span class="o">()</span>
    <span class="kt">def</span> <span class="n">matcherVersionCode</span> <span class="o">=</span> <span class="n">patternVersionCode</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">buildGradleFileText</span><span class="o">)</span>
    <span class="n">matcherVersionCode</span><span class="o">.</span><span class="na">find</span><span class="o">()</span>
    <span class="kt">def</span> <span class="n">mVersionCode</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">matcherVersionCode</span><span class="o">.</span><span class="na">group</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
    <span class="kt">def</span> <span class="n">mNextVersionCode</span> <span class="o">=</span> <span class="n">mVersionCode</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="kt">def</span> <span class="n">manifestContent</span> <span class="o">=</span> <span class="n">matcherVersionCode</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s2">&quot;versionCode &quot;</span> <span class="o">+</span> <span class="n">mNextVersionCode</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="s2">&quot;:incrementVersionCode - current versionCode=&quot;</span> <span class="o">+</span> <span class="n">mVersionCode</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="s2">&quot;:incrementVersionCode - next versionCode=&quot;</span> <span class="o">+</span> <span class="n">mNextVersionCode</span><span class="o">);</span>
    <span class="n">buildGradleFile</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">manifestContent</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>

<p>Now run <code>gradle incrementVersionCode</code> and your build.gradle will be automatically updated.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-09-08T00:00:00+02:00"><a href="http://localhost:4000/android-fragment-generator/">September 08, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Andrea Maglie">Andrea Maglie</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/android-fragment-generator/" rel="bookmark" title="Android Fragment Code Generator" itemprop="url">Android Fragment Code Generator</a></h1>
    
  </header>
  <div class="entry-content">
    <p>There are many ways to create a fragment in Android, but to create a fragment properly you need to follow specific guidelines.</p>

<p>For example, it’s required that the class has a public zero-parameters constructor. If we need to pass parameters to the fragment, we need to use the method <code>setArguments()</code>.</p>

<p>Try to pass some parameters to the constructor as you do with any other class and then look at what happens after a device rotation: parameters will be lost. On screen rotation the fragment is automatically destroyed and re-created, and to do that Android uses the default constructor (public with no parameters). Nevertheless, the arguments will be saved and retrieved from the operating system if these have been set by the method <code>setArguments()</code>.</p>

<p>With the <em>Android Fragment Code Generator</em> tool you can generate in few seconds the necessary code to successfully implement a fragment, without having to worry too much of the aspects mentioned above.</p>

<p>Try it here: <a href="http://www.andreamaglie.com/android-fragment-generator/index.html">Android Fragment Code Generator</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="http://localhost:4000/page2">2</a>
        
      </li>
    
  </ul>
  
    <a href="http://localhost:4000/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Andrea Maglie. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<script type="text/javascript" src="http://localhost:4000/assets/js/mandrill.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/assets/js/jqBootstrapValidation.js"></script>
<script type="text/javascript" src="http://localhost:4000/assets/js/contact_me.js"></script>



<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48681711-2', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

  // click on timeline trigger
  $('.timeline-item-trigger span').each(function() {
	var e = $(this);
	e.click(function () {
		 if (e.hasClass("fa-plus")) {
	      e.removeClass("fa-plus");
	      e.addClass("fa-minus");
	    } else {
	      e.removeClass("fa-minus");
	      e.addClass("fa-plus");
	    }
	});
  });
</script>


          

</body>
</html>